<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="theme-color" content="#c40000" />
  <title>Bombeiro SP</title>

  <!-- PWA -->
  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./icon.svg" type="image/svg+xml" />

  <!-- Fonte -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>

  <div class="topbar">
    <div class="topbar-inner">
      <a class="navbtn" href="#/home" aria-label="Ir para Home">üè†</a>

      <div class="brand" style="flex:1;">
        <img src="./icon.svg" alt="√çcone Bombeiro SP">
        <div class="brand-title">
          <h1>BOMBEIRO SP</h1>
          <p>Inspe√ß√£o ‚Ä¢ Preven√ß√£o ‚Ä¢ AVCB ‚Ä¢ LAVCB</p>
        </div>
      </div>

      <div class="pill" id="btnInstall" style="display:none; cursor:pointer;">
        <span class="dot"></span>
        INSTALAR
      </div>
    </div>
  </div>

  <div class="container">

    <!-- VIEW: HOME -->
    <section class="view" id="viewHome">
      <section class="hero">
        <img class="hero-cover" src="./cover.svg" alt="Capa Bombeiro SP">
        <div class="hero-body">
          <h2>Vistoria r√°pida, relat√≥rio profissional</h2>
          <p>
            Checklists inteligentes para com√©rcio e eventos, com pend√™ncias, fotos e gera√ß√£o de PDF t√©cnico
            (adequa√ß√µes para regulariza√ß√£o).
          </p>

          <div class="badges">
            <div class="badge ok"><span class="b-dot"></span>SP ATIVO</div>
            <div class="badge alerta"><span class="b-dot"></span>USO EM CAMPO</div>
            <div class="badge"><span class="b-dot"></span>OFFLINE</div>
          </div>
        </div>
      </section>

      <section class="grid">
        <div class="card">
          <h3>üî• Nova Vistoria</h3>
          <p>Crie uma vistoria guiada (com√©rcio ou evento) e salve offline.</p>
          <button class="btn" id="btnNova">Iniciar Vistoria</button>
        </div>

        <div class="card">
          <h3>üìã Vistorias Salvas</h3>
          <p>Abra e continue vistorias no aparelho, mesmo sem internet.</p>
          <button class="btn btn-secondary" id="btnSalvas">Abrir Vistorias</button>
        </div>

        <div class="card">
          <h3>üì¶ Pacote Regulat√≥rio</h3>
          <p>Estrutura plug√°vel: SP primeiro, expans√£o depois sem quebrar c√≥digo.</p>
          <button class="btn btn-amber" id="btnPacote">Ver Pacote SP</button>
        </div>
      </section>

      <div class="footer">
        Criado por <strong>Jonatan Vale</strong> em parceria com <strong>Vale Produ√ß√£o</strong>
      </div>
    </section>

    <!-- VIEW: NOVA VISTORIA -->
    <section class="view" id="viewNova">
      <div class="page-title">Nova Vistoria</div>

      <form class="form" id="formNova" autocomplete="off">
        <div class="field">
          <div class="label">
            <span>Tipo de local</span>
            <span class="hint">Com√©rcio ou Evento</span>
          </div>
          <select class="select" id="tipoLocal" required>
            <option value="" selected disabled>Selecione‚Ä¶</option>
            <option value="comercio">Com√©rcio (lojas, mercados, restaurantes, etc.)</option>
            <option value="evento">Evento (tempor√°rio: shows, feiras, etc.)</option>
          </select>
        </div>

        <div class="field">
          <div class="label">
            <span>Nome do local</span>
            <span class="hint">Ex.: Supermercado X</span>
          </div>
          <input class="input" id="nomeLocal" placeholder="Digite o nome do local" required />
        </div>

        <div class="field">
          <div class="label">
            <span>Endere√ßo</span>
            <span class="hint">Rua, n¬∫, bairro, cidade</span>
          </div>
          <textarea class="textarea" id="endereco" placeholder="Digite o endere√ßo completo" required></textarea>
        </div>

        <div class="split">
          <div class="field">
            <div class="label">
              <span>√Årea (m¬≤)</span>
              <span class="hint">Somar √°reas</span>
            </div>
            <input class="input" id="area" inputmode="decimal" placeholder="Ex.: 250" required />
          </div>

          <div class="field">
            <div class="label">
              <span>Pavimentos</span>
              <span class="hint">Ex.: 1, 2, 3‚Ä¶</span>
            </div>
            <input class="input" id="pavimentos" inputmode="numeric" placeholder="Ex.: 1" required />
          </div>
        </div>

        <div class="split">
          <div class="field">
            <div class="label">
              <span>Altura (m)</span>
              <span class="hint">Aproximada</span>
            </div>
            <input class="input" id="altura" inputmode="decimal" placeholder="Ex.: 6" />
          </div>

          <div class="field">
            <div class="label">
              <span>Lota√ß√£o</span>
              <span class="hint">Estimativa</span>
            </div>
            <input class="input" id="lotacao" inputmode="numeric" placeholder="Ex.: 120" />
          </div>
        </div>

        <div class="field">
          <div class="label">
            <span>Riscos e caracter√≠sticas</span>
            <span class="hint">Marque o que existir</span>
          </div>
          <div class="chips">
            <label class="chip"><input type="checkbox" value="glp" class="risco"> GLP</label>
            <label class="chip"><input type="checkbox" value="cozinha" class="risco"> Cozinha/√≥leo</label>
            <label class="chip"><input type="checkbox" value="inflamaveis" class="risco"> Inflam√°veis</label>
            <label class="chip"><input type="checkbox" value="subsolo" class="risco"> Subsolo</label>
            <label class="chip"><input type="checkbox" value="mezanino" class="risco"> Mezanino</label>
            <label class="chip"><input type="checkbox" value="deposito" class="risco"> Dep√≥sito</label>
            <label class="chip"><input type="checkbox" value="palco" class="risco"> Palco/Estrutura</label>
            <label class="chip"><input type="checkbox" value="som_luz" class="risco"> Som/Luz (evento)</label>
          </div>
        </div>

        <div class="field">
          <div class="label">
            <span>Observa√ß√µes iniciais</span>
            <span class="hint">Opcional</span>
          </div>
          <textarea class="textarea" id="obs" placeholder="Ex.: local em reforma, rota bloqueada, etc."></textarea>
        </div>

        <div class="row">
          <button type="button" class="btn btn-secondary" id="btnCancelarNova">Cancelar</button>
          <button type="submit" class="btn" id="btnSalvarNova">Salvar vistoria</button>
        </div>

        <div class="card">
          <h3>‚û°Ô∏è Pr√≥ximo passo</h3>
          <p>
            Ap√≥s salvar, a pr√≥xima tela ser√° o <strong>Checklist Inteligente</strong> (extintores, sinaliza√ß√£o,
            rotas, brigada, etc.).
          </p>
          <button type="button" class="btn btn-amber" id="btnIrChecklist" disabled>
            Ir para Checklist (em seguida)
          </button>
        </div>

      </form>

      <div class="footer">
        Criado por <strong>Jonatan Vale</strong> em parceria com <strong>Vale Produ√ß√£o</strong>
      </div>
    </section>

    <!-- VIEW: SALVAS -->
    <section class="view" id="viewSalvas">
      <div class="page-title">Vistorias Salvas</div>

      <div class="card">
        <h3>üìã Lista offline</h3>
        <p>Estas vistorias ficam salvas no seu aparelho (IndexedDB).</p>
        <div class="row">
          <button class="btn btn-secondary" id="btnVoltarHome">Voltar</button>
          <button class="btn" id="btnRecarregarLista">Recarregar</button>
        </div>
      </div>

      <div class="list" id="listaVistorias"></div>

      <div class="footer">
        Criado por <strong>Jonatan Vale</strong> em parceria com <strong>Vale Produ√ß√£o</strong>
      </div>
    </section>

  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite">
    <span class="t-dot"></span>
    <span id="toastText">Ok</span>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
